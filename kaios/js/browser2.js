try{String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";

if(e instanceof RegExp)throw TypeError("first argument must not be a RegExp");

return void 0===t&&(t=0),-1!==this.indexOf(e,t)}),navigator.spatialNavigationEnabled=!1;var home,help,blux,inpt,urltit,contxBoard,loading,filer,DB,pageInfoBy,linkInfoBy,bkmrkbrd,serNxtPrv,serx,finderState,serErr,serq,bookmrk,optLix,toast,filds,icoxImg,topbar,appxlist,copyx,contx,contx2,slider,intrvl=null,timeout=null,err=!1,id=null,lastElem=null,kaiads=null,customAds=null,ytDnLink="nai",inHome=!1,zm=9,title="",url="",sffOri="none",cntxItm=["Stop","Reload","Page Info","Save Page"],secureState="unknown",favIco="icons/no_ico.png",hasFoc=!1,srx=!1,inIfr=!1,totalMatch=0,lastURL="",$bK=!1,$hK=!0,apListData=[],adTimer=1,inputbx=[],svPgsObj={},dwnb=document.querySelector("#dwnBtn"),dbsvpg=+localStorage.dbsvpg||1,dbbkm=+localStorage.dbbkm||1,dbhis=+localStorage.dbhis||1,dbinv=+localStorage.dbinv||1,firstTimeHelp=localStorage.helpWin||"hmm";


function browsKeys(e)
{
if($bK)
{
if(document.fullscreenElement)

return void("Backspace"==e.key||"EndCall"==e.key?(e.preventDefault(),

e.stopPropagation(),

optlClick("Back",!1)):(e.preventDefault(),

e.stopPropagation()));

switch(e.stopPropagation(),

e.key){

case"Backspace":case"EndCall":e.preventDefault(),

optlClick("Back",!1);break;

case"1":optlClick("Zoom-",!1);break;

case"2":iframe.scrollToTop();break;

case"3":optlClick("Zoom+",!1);break;

case"4":iframe.scrollBy(0,-100);break;

case"5":zm=9,iframe.zoom(.9);break;

case"0":iframe.reload();break;

case"6":iframe.scrollBy(0,100);

break;case"7":optlClick("Find",!1);

break;case"8":iframe.scrollToBottom();

break;case"9":$bK=!1,inHome=!1,optlClick("History",!1);break;

case"SoftLeft":case"F1":optionsListRender();break;

case"*":navigator.volumeManager.requestDown();break;

case"#":navigator.volumeManager.requestUp();break;

case"Call":homePage();break;

default:e.preventDefault()}}}

function showToast(e,t=!1){toast.innerText=e,toast.style.backgroundColor=t?"hotpink":"rgba(0, 0, 0, 0.8)",toast.style.display="block";

var n=10;setTimeout((()=>
{
var e=setInterval((()=>{n--,toast.style.opacity="0."+n,n<1&&(clearInterval(e),toast.style.display="none",toast.style.opacity=1)}),150)}),2e3)}

function homeKeys(e)
{if($hK)

switch(e.preventDefault(),e.stopPropagation(),

e.key){

case"F2":case"SoftRight":window.removeEventListener("keydown",homeKeys),optlClick("Exit",!1);break;


case"SoftLeft":case"F1":optionsListRender(),window.removeEventListener("keydown",homeKeys);break;

case"ArrowRight":case"ArrowLeft":break;

case"ArrowDown":case"Down":(t=document.querySelectorAll(".bookmrk"))[n=(Array.from(t).indexOf(document.activeElement)+1)%t.length]&&t[n].focus();break;

case"ArrowUp":case"Up":var t,n;(t=document.querySelectorAll(".bookmrk"))[n=(Array.from(t).indexOf(document.activeElement)-1+t.length)%t.length]&&t[n].focus();break;

case"Enter":var o=document.activeElement.getAttribute("data-url");

if(null==o)return;

if("adsClick"==o)return void(customAds?"app"==customAds.type?new MozActivity({name:"open-page",data:{url:customAds.url,type:"url",autoDownload:customAds.autoDownload}}):(

home.style.display="none",topbar.style.display="flex",

navigator.spatialNavigationEnabled=!0,

iframe.src=customAds.url,window.removeEventListener("keydown",

homeKeys),$bK=!0):kaiads&&kaiads.call("click"));

if(o.startsWith("http"))

return home.style.display="none",
topbar.style.display="flex",

navigator.spatialNavigationEnabled=!0,

iframe.src=o,window.removeEventListener("keydown",homeKeys),

void($bK=!0);if("itus"==o)return inpt.type="text",inpt.setAttribute("style","position:fixed; top:4px; left:4px; z-index:92; width:232px; height:26px; background:white; color: black; border: 1px solid #2c5f87; font-size: 16px; padding: 0 8px; box-sizing: border-box;"),


showInputVal(),$hK=!1,inpt.focus(),void inpt.select();inHome=!0,lastElem=document.activeElement.tabIndex,optlClick(o,!1),home.style.display="none",window.removeEventListener("keydown",homeKeys);break;


case"Call":lastURL&&(home.style.display="none",topbar.style.display="flex",

navigator.spatialNavigationEnabled=!0,

iframe.src=lastURL,
window.removeEventListener("keydown",homeKeys),$bK=!0);break
}}


function fulScreenCng(e){if(document.fullscreenElement)screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),contx2.style.display="none",contx.style.display="none";else{try{screen.orientation&&screen.orientation.lock&&screen.orientation.lock("natural")}catch(e){}contx.style.display="block",contx2.style.display="block",contx.children[0].src="icons/contx.png",contx.children[0].style="width:25px;height:25px;border:0px solid white;",hasFoc=!1}iframe.blur()}function scrOriCng(e){if(!document.fullscreenElement){try{screen.orientation&&screen.orientation.lock&&screen.orientation.lock("portrait")}catch(e){}e.preventDefault(),e.stopPropagation()}iframe.blur()}function _hide(e="Completed!"){filer.style.width="100%",setTimeout((()=>{filer.innerText=e}),285),setTimeout((()=>{loading.style.display="none",filer.innerText="",filer.style.width="1%"}),2400)}function _loading(){loading.style.display="block",filer.style.width="1%"}function elem(e,t,n,o){var r=document.createElement(e);if(t)for(var a in t)r.setAttribute(a,t[a]);if(n)for(var i in n)r[i]=n[i];if(o)for(var s in o)r.addEventListener(s,o[s]);return r}

function browser(){var e=document.querySelector("#iframe"),

t=elem("iframe",

{
mozbrowser:!0,
mozallowfullscreen:!0,
remote:!0,
frameborder:0,



style:"width:100%;height:100%;border:none; margin:0;padding:0;",name:"main"},

{id:"ifrx"},

{mozbrowserloadstart:function(e){t.blur(),slider.style.display="block",srx=!0,favIco="icons/no_ico.png",icoxImg.src=favIco,hasFoc&&(contx.children[0].src="icons/contx.png",contx.children[0].style="width:25px;height:25px;border:0px solid white;",contx2.style.display="block",hasFoc=!1);timeout=setTimeout(o,35e3)},mozbrowserloadend:o,mozbrowsertitlechange:function(e){t.blur(),title=e.detail,urltit.innerText=title,hasFoc&&(contx.children[0].src="icons/contx.png",contx.children[0].style="width:25px;height:25px;border:0px solid white;",contx2.style.display="block",hasFoc=!1);lastURL==url||"about:blank"==url||url.includes("app://")||(lastURL=url,setTimeout((()=>{addHistory(title,url,favIco)}),3e3))},mozbrowserlocationchange:function(e){t.blur(),url=e.detail.url,urltit.innerText=url,hasFoc&&(contx.children[0].src="icons/contx.png",contx.children[0].style="width:25px;height:25px;border:0px solid white;",contx2.style.display="block",hasFoc=!1);url.includes("youtube.com")&&(url.includes("/watch?v")||url.includes("/shorts/"))&&catchYoutubeURL(url)},mozbrowsererror:e=>{urltit.innerText=url},mozbrowsercontextmenu:e=>{t.blur(),hasFoc?(contx.children[0].src="icons/contx.png",contx.children[0].style="width:25px;height:25px;border:0px solid white;",contx2.style.display="block",hasFoc=!1):(e.preventDefault(),e.stopPropagation(),function(e){navigator.spatialNavigationEnabled=!1,$bK=!1,window.addEventListener("keydown",menuKeys);for(var t=0,o=+e.screenX,r=+e.screenY,a="",i=contxBoard.parentElement,s=1;s<4;s++)!function(e){srx&&"Stop"==cntxItm[s-1]?contxBoard.appendChild(elem("li",{tabindex:t++,class:"cntx"},{innerText:cntxItm[0]},{click:()=>{n({data:e})}})):contxBoard.appendChild(elem("li",{tabindex:t++,class:"cntx"},{innerText:e},{click:()=>{n({data:e})}}))}(cntxItm[s]);e.systemTargets&&e.systemTargets.forEach((e=>{"A"==e.nodeName?(contxBoard.appendChild(elem("li",{tabindex:t++,class:"cntx"},{innerText:"Link Info"},{click:()=>{n({data:"Link Info",href:e.data.uri,tex:e.data.text.trim()})}})),contxBoard.appendChild(elem("li",{tabindex:t++,class:"cntx"},{innerText:"Save link"},{click:()=>{n({data:"Save link",href:e.data.uri,tex:e.data.text.trim()})}}))):"IMG"==e.nodeName?(contxBoard.appendChild(elem("li",{tabindex:t++,class:"cntx"},{innerText:"Image Info"},{click:()=>{n({data:"ImgInfo",src:e.data.uri})}})),contxBoard.appendChild(elem("li",{tabindex:t++,class:"cntx"},{innerText:"Save Image"},{click:()=>{n({data:"Save Image",src:e.data.uri})}}))):"VIDEO"==e.nodeName&&(e.data.documentURI.includes("youtube.com")?ytDnLink.startsWith("http")?contxBoard.appendChild(elem("li",{tabindex:t++,class:"cntx"},{innerText:"Save Video"},{click:()=>{n({data:"Save Video",uri:ytDnLink})}})):contxBoard.appendChild(elem("li",{tabindex:t++,class:"cntx"},{innerText:"No Link"},{click:()=>{n({data:"Error"})}})):contxBoard.appendChild(elem("li",{tabindex:t++,class:"cntx"},{innerText:"Save Video"},{click:()=>{n({data:"Save Video",uri:e.data.uri})}})))}));(a=24*(t-3)+80)+r<=292&&o+100<=237?i.setAttribute("style",`display:block;height:${a}px;top:${r}px;left:${o}px;`):a+r>292&&o+100<=237?(r-=a,i.setAttribute("style",`display:block;height:${a}px;top:${r}px;left:${o}px;`)):a+r<=292&&o+100>237?(o-=100,i.setAttribute("style",`display:block;height:${a}px;top:${r}px;left:${o}px;`)):a+r>292&&o+100>237?(r-=a,o-=100,i.setAttribute("style",`display:block;height:${a}px;top:${r}px;left:${o}px;`)):i.setAttribute("style",`display:block;height:${a}px;top:${r}px;left:${o}px;`);document.querySelectorAll(".cntx").length>0&&document.querySelectorAll(".cntx")[0].focus()}(e.detail))},mozbrowsericonchange:e=>{getBlobFromURL(e.detail.href,null,readData)},mozbrowsersecuritychange:e=>{secureState=e.detail.state},mozbrowserfindchange:e=>{totalMatch=e.detail.numberOfMatches,finderState.innerText=e.detail.activeMatchOrdinal+"/"+totalMatch,totalMatch&&(serErr.innerText=totalMatch+" Match")||(serErr.innerText="Not Match")}});function n(e){switch(e.data){case"Stop":t.stop();break;case"Reload":t.reload();break;case"Page Info":return void function(){var e=`<img src="${favIco}" style="width:20px;height:20px">`;"icons/no_ico.png"==favIco&&(e="none");contxBoard.parentElement.style.display="none",contxBoard.innerHTML="",pageInfoBy.innerHTML=`<h2>Page Information</h2><p>Title: ${title}</p><p>Address: ${url}</p><p>Security: ${secureState}</p><p>Page Icon: ${e}</p>`,pageInfoBy.style.display="block",window.removeEventListener("keydown",menuKeys),setTimeout((function(){window.addEventListener("keydown",pagInfKeys)}),1e3)}();case"Save Page":getHTML(url);break;case"Link Info":return n=e,contxBoard.parentElement.style.display="none",contxBoard.innerHTML="",linkInfoBy.innerHTML=`<h2>Link Information</h2><p>Text: ${n.tex}</p><p>URL: ${n.href}</p>`,linkInfoBy.style.display="block",window.removeEventListener("keydown",menuKeys),void window.addEventListener("keydown",pagInfKeys);case"Save link":!function(e){addBookmark(e.tex,e.href,favIco),showToast("Added Bookmark!")}(e);break;case"ImgInfo":return void function(e){contxBoard.parentElement.style.display="none",contxBoard.innerHTML="",linkInfoBy.innerHTML=`<h2>Image Info</h2><p style="text-align:center;word-break:normal;"><img src="${e.src}" style="width:auto;max-width:150px;height:auto;max-height:150px;border-radius:7px;"></p><p>URL: ${e.src}</p>`,linkInfoBy.style.display="block",window.removeEventListener("keydown",menuKeys),window.addEventListener("keydown",pagInfKeys)}(e);case"Save Image":t.download&&(t.download(e.src),showToast("Start Downloading!"),fullAds(!0));break;case"Save Video":t.download&&(t.download(e.uri,{filename:title+".mp4"}),showToast("Start Downloading!"),fullAds(!0));break;case"Error":showToast("Something went wrong!",!0);break}var n;contxBoard.parentElement.style.display="none",contxBoard.innerHTML="",navigator.spatialNavigationEnabled=!0,$bK=!0,window.removeEventListener("keydown",menuKeys)}function o(e){t.blur(),timeout&&clearTimeout(timeout),slider.style.display="none",srx=!1,hasFoc&&(contx.children[0].src="icons/contx.png",contx.children[0].style="width:25px;height:25px;border:0px solid white;",contx2.style.display="block",hasFoc=!1)}e.appendChild(t),t.zoom&&t.zoom(.9),window.iframe=t,setInterval((()=>{document.activeElement&&"IFRAME"==document.activeElement.tagName&&(hasFoc=!0,contx.children[0].src="icons/done.png",contx.children[0].style="width:30px;height:30px;border:0px solid white;position:relative;top:-5px;left:-4px;",

contx2.style.display="none")}),500)}


function getBlobFromURL(e,t,n,o,r,a,i)
{var s=new XMLHttpRequest({mozSystem:!0});

s.open("GET",e,!0),s.responseType="blob",s.onload=e=>{t&&n?n(e.currentTarget.response,t,o,r,a,i):n&&n(e.currentTarget.response)},s.onerror=e=>{"

function"==typeof readyToDown&&readyToDown()},s.send()}function readData(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){favIco=t.result,icoxImg.src=favIco}}function getHTML(e,t){_loading();var n=new XMLHttpRequest({mozSystem:!0});n.open("GET",e,!0),n.responseType="document",n.onload=t=>{var n=t.currentTarget.response,o=new URL(e).origin,r=n.querySelectorAll("img"),a=n.querySelectorAll("link[rel=stylesheet]"),i=r.length,s=a.length;svPgsObj={doc:n,css:a,len:s,totLen:i+s},n.head.appendChild(elem("base",{href:o,target:"_self"})),i>0?getBase(r,o,e,i):s>0?getStylesheet(a,o,e,s):readyToDown()},n.onerror=e=>{_hide("Network Error")},n.send()}function getTextFromURL(e,t,n,o,r,a,i){var s=new XMLHttpRequest({mozSystem:!0});s.open("GET",e,!0),s.responseType="text",s.onload=e=>{n(e.currentTarget.response,t,o,r,a,i)},s.onerror=e=>{readyToDown()},s.send()}function getStylesheet(e,t,n){var o=0;e[o]?getTextFromURL(e[o].href,e[o],setStylesheet,e,++o,t,n):readyToDown()}function setStylesheet(e,t,n,o,r,a){var i=parseInt(o/svPgsObj.totLen*100),s=document.createElement("style"),l=document.createTextNode(e);s.appendChild(l),t.parentElement.insertBefore(s,t),filer.innerText=i+"%",filer.style.width=i+"%",n[o]?getTextFromURL(n[o].href,n[o],setStylesheet,n,++o,r,a):readyToDown()}function getBase(e,t,n,o){var r=0;e[r]?getBlobFromURL(e[r].src,e[r],setBase64,e,++r,t,o):readyToDown()}function setBase64(e,t,n,o,r,a){var i=new FileReader,s=parseInt(o/svPgsObj.totLen*100);i.readAsDataURL(e),i.onload=function(){t.src=i.result,filer.innerText=s+"%",filer.style.width=s+"%",n[o]?getBlobFromURL(n[o].src,n[o],setBase64,n,++o,r,a):getStylesheet(svPgsObj.css,r,svPgsObj.cssLen)}}function readyToDown(){filer.innerText="100%",filer.style.width="100%";var e=new Blob([svPgsObj.doc.documentElement.outerHTML],{type:"text/html"}),t=parseInt(e.size/1024);addSvPg(title,url,favIco,e,t),setTimeout((()=>{fullAds(!0),svPgsObj={},_hide("Saved!!")}),1155)}function optionsListRender(){for(var e=["Back","Forward","Add Bookmark","History","Download history","Download page","Share URL","Help","Exit"],t=e.length,n=0;n<t;n++)optLix.appendChild(elem("li",{class:"optl",tabindex:n},{innerText:e[n]},{click:e=>{optlClick(e.target.innerText)}}));iframe.getCanGoForward&&iframe.getCanGoForward().then((e=>{!e&&optLix.children[1]&&optLix.removeChild(optLix.children[1])})),optLix.parentElement.style.display="block",

optLix.children[0]&&optLix.children[0].focus(),navigator.spatialNavigationEnabled=!1,

$bK=!1,

window.addEventListener("keydown",menuKeys)}function homePage(e=0){home.style.display="block",topbar.style.display="none",url.includes("app://")&&(url=""),inHome||(iframe.src="about:blank",inpt.value=url||"");var t=document.querySelectorAll(".bookmrk");t[e]&&t[e].focus(),$bK=!1,inHome=!1,navigator.spatialNavigationEnabled=!1,window.addEventListener("keydown",homeKeys)}function optlClick(e,t=!0){switch(dwnb.style="display:none",e){case"Back":document.fullscreenElement?document.exitFullscreen():iframe.getCanGoBack?iframe.getCanGoBack().then((e=>{e?iframe.goBack():homePage()})):homePage();break;case"Forward":iframe.goForward&&iframe.goForward();break;case"Find":t&&(window.removeEventListener("keydown",menuKeys),optLix.parentElement.style.display="none",optLix.innerHTML=""),t||($bK=!1,navigator.spatialNavigationEnabled=!1),serx.parentElement.style.display="block",serq.focus(),serq.select();break;case"Home":homePage(),optLix.parentElement.style.display="none",optLix.innerHTML="",navigator.spatialNavigationEnabled=!1,window.removeEventListener("keydown",menuKeys);break;case"Bookmark":case"History":optLix.parentElement.style.display="none",optLix.innerHTML="",navigator.spatialNavigationEnabled=!1,t&&window.removeEventListener("keydown",menuKeys),showBookmarkOrHistory(e);break;case"Add Bookmark":addBookmark(title,url,favIco),showToast("Added Bookmark!");break;case"Download page":var n=url.split("/").pop().length<1?new URL(url).hostname+".html":null;iframe.download&&iframe.download(url,n?{filename:n}:{});break;case"Download history":"undefined"!=typeof MozActivity&&new MozActivity({name:"configure",data:{target:"device",section:"downloads"}});break;case"Zoom+":++zm>25&&(zm=25),iframe.zoom(zm/10);break;case"Zoom-":--zm<5&&(zm=5),iframe.zoom(zm/10);break;case"Take Screenshot":if(iframe.getScreenshot){var o=iframe.getScreenshot(240,320,"image/png");o.onsuccess=function(){var e=o.result,t=URL.createObjectURL(e);iframe.download&&iframe.download(t,{filename:"Screenshot.png"}),setTimeout((()=>{URL.revokeObjectURL(t)}),1555)}}break;case"Share URL":"undefined"!=typeof MozActivity&&new MozActivity({name:"share",data:{type:"url",url:url}});break;case"Help":navigator.spatialNavigationEnabled=!1,help.parentElement.style.display="block",t&&(optLix.parentElement.style.display="none",optLix.innerHTML="",window.removeEventListener("keydown",menuKeys)),window.addEventListener("keydown",helpKeys);break;case"Exit":exitConfirm(),inIfr=t;break;case"SvPg":showSvPg();break;default:break}t&&(optLix.parentElement.style.display="none",optLix.innerHTML="",navigator.spatialNavigationEnabled=!0,$bK=!0,window.removeEventListener("keydown",menuKeys))}function exitConfirm(e){lastElem=document.activeElement;var t=document.querySelector("#confrm");t.parentElement.style.display="block",t.parentElement.style.top="0px",t.children[1].focus(),navigator.spatialNavigationEnabled=!1,window.addEventListener("keydown",onExit)}function addBookmark(e,t,n){if(DB){var o=[{id:dbbkm,record:{titx:e,urxl:t,ico:n}}];DB.transaction(["bookmark"],"readwrite").objectStore("bookmark").add(o[0]).onsuccess=e=>{++dbbkm,localStorage.dbbkm=dbbkm}}}function addHistory(e,t,n){if(DB){var o=[{id:dbhis,record:{titx:e,urxl:t,ico:n}}];DB.transaction(["history"],"readwrite").objectStore("history").add(o[0]).onsuccess=e=>{++dbhis,localStorage.dbhis=dbhis}}}function addSvPg(e,t,n,o,r){if(DB){var a=[{id:dbsvpg,record:{titx:e,urxl:t,ico:n,svpg:o,size:r}}];DB.transaction(["savepages"],"readwrite").objectStore("savepages").add(a[0]).onsuccess=e=>{++dbsvpg,localStorage.dbsvpg=dbsvpg}}}function showSvPg(){var e=!1;bkmrkbrd.children[0].innerText="Saved Pages",bkmrkbrd.style.display="block",window.addEventListener("keydown",bookmrkhistrKeys),getDBKeys("savepages").then((t=>{t.forEach(((t,n)=>{getDBValue("savepages",t).then((o=>{var r=o.record,a=elem("li",{"data-id":t,"data-ur":t,"data-store":"savepages",class:"record",tabindex:n},{innerHTML:`<div><img src="${r.ico}" style="width:20px;height:20px;position:relative;top:4px;"> ${r.titx}</div><div class="urlx">Size: ${r.size} KB</div>`});bookmrk.appendChild(a),e=!0}))})),setTimeout((()=>{e?bookmrk.children[0]&&bookmrk.children[0].focus():bookmrk.innerHTML='<h4 class="empty-message">No saved pages</h4>'}),350)}))}function showBookmarkOrHistory(e){var t=e.toLowerCase(),n=!1;bkmrkbrd.children[0].innerText=e,bkmrkbrd.style.display="block",getDB(t).then((o=>{o.forEach(((e,o)=>{var r=e.id,a=e.record,i=elem("li",{"data-id":r,"data-store":t,"data-ur":a.urxl,class:"record",tabindex:o},{innerHTML:`<div><img src="${a.ico}" style="width:20px;height:20px;position:relative;top:4px;"> ${a.titx}</div><div class="urlx">${a.urxl}</div>`});inputbx.push(a.svpg),bookmrk.appendChild(i),0==o&&(n=!0)})),n?bookmrk.children[0]&&bookmrk.children[0].focus():bookmrk.innerHTML=`<h4 class="empty-message">Empty ${e}</h4>`,window.addEventListener("keydown",bookmrkhistrKeys)}))}function getDB(e){return new Promise((t=>{if(!DB)return t([]);var n=DB.transaction(e).objectStore(e),o=[];n.openCursor().onsuccess=e=>{var n=e.target.result;if(!n)return t(o);o.unshift(n.value),n.continue()}}))}function getDBKeys(e){return new Promise((t=>{if(!DB)return t([]);DB.transaction(e).objectStore(e).getAllKeys().onsuccess=e=>{t(e.target.result)}}))}function getDBValue(e,t){return new Promise((n=>{if(!DB)return n(null);DB.transaction(e).objectStore(e).get(t).onsuccess=e=>{n(e.target.result)}}))}function nxtPrvKeys(e){switch(e.preventDefault(),e.stopPropagation(),e.key){case"SoftLeft":case"F1":iframe.findNext&&iframe.findNext("backward");break;case"SoftRight":case"F2":iframe.findNext&&iframe.findNext("forward");break;default:serNxtPrv.style.display="none",iframe.clearMatch&&iframe.clearMatch(),totalMatch=-1,window.removeEventListener("keydown",nxtPrvKeys),navigator.spatialNavigationEnabled=!0,$bK=!0;break}}function findKeys(e){"Enter"===e.key?(e.preventDefault(),e.stopPropagation(),serq.value.length?serq.blur():serErr.innerText="Enter query string"):"SoftRight"!==e.key&&"SoftLeft"!==e.key&&"F2"!==e.key&&"F1"!==e.key||(e.preventDefault(),e.stopPropagation(),serx.parentElement.style.display="none",navigator.spatialNavigationEnabled=!0,$bK=!0)}function onExit(e){e.preventDefault(),e.stopPropagation();var t=document.querySelector("#confrm");switch(e.key){case"Enter":"Yes"==document.activeElement.innerText?window.close():(t.parentElement.style.display="none",window.removeEventListener("keydown",onExit),inIfr?(navigator.spatialNavigationEnabled=!0,inIfr=!1,$bK=!0):window.addEventListener("keydown",homeKeys),lastElem&&lastElem.focus&&lastElem.focus(),lastElem=0);break;case"Backspace":case"SoftLeft":case"SoftRight":case"F1":case"F2":t.parentElement.style.display="none",window.removeEventListener("keydown",onExit),inIfr?(navigator.spatialNavigationEnabled=!0,inIfr=!1,$bK=!0):window.addEventListener("keydown",homeKeys),lastElem&&lastElem.focus&&lastElem.focus(),lastElem=0;break;case"ArrowRight":case"ArrowDown":t.children[2].focus();break;case"ArrowLeft":case"ArrowUp":t.children[1].focus();break}}function bookmrkhistrKeys(e){switch(e.preventDefault(),e.stopPropagation(),e.key){case"Enter":if(!(t=document.activeElement).hasAttribute("data-ur"))return;if(t.getAttribute("data-store").includes("savepages"))return void getDBValue("savepages",+t.getAttribute("data-ur")).then((e=>{e&&execute(e.record.svpg)}));iframe.src=t.getAttribute("data-ur"),bkmrkbrd.style.display="none",bookmrk.innerHTML="",topbar.style.display="flex",navigator.spatialNavigationEnabled=!0,$bK=!0,inHome=!1,window.removeEventListener("keydown",bookmrkhistrKeys);break;case"F2":case"SoftRight":bkmrkbrd.style.display="none",bookmrk.innerHTML="",window.removeEventListener("keydown",bookmrkhistrKeys),inHome?homePage(lastElem):(navigator.spatialNavigationEnabled=!0,$bK=!0);break;case"SoftLeft":case"F1":var t,n=+(t=document.activeElement).getAttribute("data-id"),o=t.getAttribute("data-store"),r=!1;if(DB&&"LI"==t.tagName){var a=DB.transaction([o],"readwrite");a.objectStore(o).delete(n),a.oncomplete=()=>{t.nextElementSibling?t.nextElementSibling.focus():t.previousElementSibling?t.previousElementSibling.focus():r=!0,t.parentElement.removeChild(t),r&&(bookmrk.innerHTML=`<h3 class="empty-message">Empty ${o}</h3>`)}}break;case"ArrowDown":i(1);break;case"ArrowUp":i(-1);break}function i(e){var t=document.activeElement.parentElement;e>0?document.activeElement.nextElementSibling?document.activeElement.nextElementSibling.focus():t.children[0].focus():document.activeElement.previousElementSibling?document.activeElement.previousElementSibling.focus():t.children[t.children.length-1].focus()}}function pagInfKeys(e){switch(e.preventDefault(),e.stopPropagation(),e.key){case"ArrowDown":case"ArrowRight":pageInfoBy.scrollBy(0,40),linkInfoBy.scrollBy(0,40);break;case"ArrowUp":case"ArrowLeft":pageInfoBy.scrollBy(0,-40),linkInfoBy.scrollBy(0,-40);break;default:navigator.spatialNavigationEnabled=!0,$bK=!0,window.removeEventListener("keydown",pagInfKeys),pageInfoBy.style.display="none",linkInfoBy.style.display="none";break}}function helpKeys(e){switch(e.preventDefault(),e.stopPropagation(),e.key){case"ArrowDown":help.scrollBy(0,50);break;case"ArrowUp":help.scrollBy(0,-50);break;case"SoftRight":case"F2":help.parentElement.style.display="none",window.removeEventListener("keydown",helpKeys),inHome?homePage():(navigator.spatialNavigationEnabled=!0,$bK=!0);break}}function menuKeys(e){switch(e.preventDefault(),e.stopPropagation(),e.key){case"Enter":document.activeElement.click();break;case"F2":case"SoftRight":contxBoard.parentElement.style.display="none",optLix.parentElement.style.display="none",contxBoard.innerHTML="",optLix.innerHTML="",navigator.spatialNavigationEnabled=!0,$bK=!0,window.removeEventListener("keydown",menuKeys);break;case"ArrowDown":t(1);break;case"ArrowUp":t(-1);break}function t(e){var t=document.activeElement.parentElement;e>0?document.activeElement.nextElementSibling?document.activeElement.nextElementSibling.focus():t.children[0].focus():document.activeElement.previousElementSibling?document.activeElement.previousElementSibling.focus():t.children[t.children.length-1].focus()}}function morApKeys(e){switch(e.preventDefault(),e.stopPropagation(),e.key){case"ArrowDown":t(1);break;case"ArrowUp":t(-1);break;case"SoftRight":case"F2":appxlist.parentElement.style.display="none",appxlist.innerHTML="",window.removeEventListener("keydown",morApKeys),homePage(lastElem);break;case"Enter":document.activeElement.click();break}function t(e){var t=document.activeElement.tabIndex+e,n=document.querySelectorAll(".apxItm");n[t=t<0?n.length-1:t>=n.length?0:t]&&n[t].focus()}}function validURL(e){return!!new RegExp("^((https?):\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}function initDB(){try{var e=window.indexedDB.open("minibrowser_db",1);e.onsuccess=t=>{DB=e.result},e.onupgradeneeded=e=>{(DB=e.target.result).createObjectStore("bookmark",{keyPath:"id"}),DB.createObjectStore("history",{keyPath:"id"}),DB.createObjectStore("savepages",{keyPath:"id"}),DB.createObjectStore("applist",{keyPath:"id"}),DB.createObjectStore("inputbar",{keyPath:"id"})},e.onerror=e=>{}}catch(e){}}function execute(e){var t=URL.createObjectURL(e);iframe.src=t,bkmrkbrd.style.display="none",bookmrk.innerHTML="",topbar.style.display="flex",navigator.spatialNavigationEnabled=!0,$bK=!0,inHome=!1,window.removeEventListener("keydown",bookmrkhistrKeys),setTimeout((()=>{URL.revokeObjectURL(t)}),2155)}function showApps(){if(appxlist.parentElement.style.display="block",apListData.length>0){apListData.forEach(((e,t)=>{"Mini Browser"!=e.name&&appxlist.appendChild(elem("li",{class:"apxItm",tabindex:t,style:"height:54px; font-size: 16px; padding: 2px 0px 2px 4px; position: relative; width: 99%; overflow:hidden; box-sizing: border-box; border:2px dotted #000; border-radius: 10px; white-space:pre;"},{innerHTML:`<img src="${e.img}" style="width:50px;height:50px;">  <span style="position:absolute;top: 40%; left:60px;">${e.name}</span>`},{click:()=>{"undefined"!=typeof MozActivity&&new MozActivity({name:"open-page",data:{url:e.ur,type:"url",autoDownload:!0}})}}))}));var e=document.querySelectorAll(".apxItm")[0];e&&e.focus()}else appxlist.innerHTML="<br><br><br><h3>Network Problem!</h3>";window.addEventListener("keydown",morApKeys)}function catchYoutubeURI(e,t){var n=new URL(t).search.split("&")[0].split("=")[1];t.includes("/shorts/")&&(n=t.split("/").pop().split("?")[0]);var o=JSON.stringify({playbackContext:{contentPlaybackContext:{html5Preference:"HTML5_PREF_WANTS"}},contentCheckOk:!0,racyCheckOk:!0,videoId:n,context:{client:{hl:"en",timeZone:"UTC",utcOffsetMinutes:0,clientName:"ANDROID_VR",clientVersion:"1.60.19",deviceMake:"Oculus",deviceModel:"Quest 3",androidSdkVersion:32,userAgent:"com.google.android.apps.youtube.vr.oculus/1.60.19 (Linux; U; Android 12L; eureka-user Build/SQ3A.220605.009.A1) gzip",osName:"Android",osVersion:"12L"}}});const r=new XMLHttpRequest({mozSystem:!0});r.open("POST","https://www.youtube.com/youtubei/v1/player?prettyPrint=false",!0),r.setRequestHeader("accept","text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"),r.setRequestHeader("accept-encoding","gzip, deflate, br"),r.setRequestHeader("accept-language","en-us,en;q=0.5"),r.setRequestHeader("connection","keep-alive"),r.setRequestHeader("content-type","application/json"),r.setRequestHeader("host","www.youtube.com"),r.setRequestHeader("origin","https,//www.youtube.com"),r.setRequestHeader("sec-fetch-mode","navigate"),r.setRequestHeader("x-youtube-client-name",28),r.setRequestHeader("x-youtube-client-version","1.60.19"),r.setRequestHeader("x-goog-visitor-id",e),r.setRequestHeader("user-agent","com.google.android.apps.youtube.vr.oculus/1.60.19 (Linux; U; Android 12L; eureka-user Build/SQ3A.220605.009.A1) gzip"),r.responseType="json",r.onload=e=>{ytDnLink=e.currentTarget.response.streamingData.formats[0].url,dwnb.style="display:block;"},r.onerror=e=>{ytDnLink="nai"},r.send(o)}function catchYoutubeURL(e){const t=new XMLHttpRequest({mozSystem:!0});t.open("GET",e,!0),t.responseType="text",t.onload=t=>{catchYoutubeURI(/"VISITOR_DATA":\s*"([^"]+)"/.exec(t.currentTarget.response)[1],e)},t.onerror=e=>{ytDnLink="nai"},t.send()}function browxer(){window.addEventListener("keydown",homeKeys),home.style.display="block";var e=document.querySelector(".search-container");e&&e.focus(),browser(),"hmm"==firstTimeHelp&&(optlClick("Help",!1),home.style.display="none",inHome=!0,window.removeEventListener("keydown",homeKeys),localStorage.helpWin="nope")}function addInputVal(e){if(DB){var t=[{id:dbinv,vals:e}];DB.transaction(["inputbar"],"readwrite").objectStore("inputbar").add(t[0]).onsuccess=e=>{++dbinv,localStorage.dbinv=dbinv}}}function retriveHistory(){DB&&(DB.transaction("history").objectStore("history").openCursor().onsuccess=e=>{var t=e.target.result;t&&(inputbx.push(t.value.record),t.continue())})}function showInputVal(){blux.children[0].innerHTML="",inputbx=[],getDB("inputbar").then((e=>{for(var t=0;e[t]&&t<10;t++){var n=e[t].vals,o=elem("li",{"data-ur":n,class:"inptrec",tabindex:t,style:"padding:0px;font-size:16px;"},{innerHTML:`<img src="icons/search.png" style="width:20px;height:20px; margin-right: 8px;">${n}`});inputbx.push(n),blux.children[0].appendChild(o)}blux.parentElement.style.display="block",retriveHistory()}))}function showValx(e){blux.children[0].innerHTML="";for(var t=0;e[t]&&t<10;t++){var n,o;"object"==typeof e[t]?(n=`<img src="${e[t].ico}" style="width:20px;height:20px; margin-right: 8px;">${e[t].urxl}`,o=e[t].urxl):(n=`<img src="icons/search.png" style="width:20px;height:20px; margin-right: 8px;">${e[t]}`,o=e[t]);var r=elem("li",{"data-ur":o,class:"inptrec",tabindex:t,style:"padding:0px;font-size:16px;"},{innerHTML:n});blux.children[0].appendChild(r)}}function onInputActivity(e){var t=[];if(inpt.value.length>=1){inputbx.forEach((e=>{"object"==typeof e&&e.urxl.includes(inpt.value)?t.push(e):"string"==typeof e&&e.startsWith(inpt.value)?t.unshift(e):"string"==typeof e&&e.includes(inpt.value)&&t.push(e)}));var n=new XMLHttpRequest({mozSystem:!0});n.open("GET","https://www.google.com/complete/search?client=android&hl=en&q="+encodeURIComponent(inpt.value),!0),n.responseType="text",n.onload=e=>{try{JSON.parse(e.currentTarget.response)[1].forEach((e=>{t.push(e)}))}catch(e){}showValx(t)},n.onerror=e=>{showValx(t)},n.send()}else showInputVal()}function fullAds(e=!1){(e||Date.now()-adTimer>12e4)&&(adTimer=Date.now(),"undefined"!=typeof getKaiAd&&getKaiAd({publisher:"58d21092-87f8-47c3-883d-fcd67eb318d8",app:"Bouncy Balls",slot:"main",test:0,onerror:e=>{},onready:e=>{e.call("display"),e.on("close",(()=>{lastElem&&lastElem.focus&&lastElem.focus(),lastElem=0})),e.on("display",(()=>{lastElem=document.activeElement}))}}))}function respAds(){"undefined"!=typeof getKaiAd&&getKaiAd({publisher:"58d21092-87f8-47c3-883d-fcd67eb318d8",app:"Bouncy Balls",slot:"main",h:50,w:240,container:document.querySelector("#ad-container"),test:0,onerror:e=>{},onready:e=>{kaiads=e,e.call("display",{navClass:"navItem",display:"block"})}})}function getAds(){var e=new XMLHttpRequest({mozSystem:!0});e.open("GET","ads.txt",!0),e.responseType="json",e.onload=e=>{var t=e.currentTarget.response,n=+localStorage.adsStep||0,o=document.querySelector("#ad-container");t&&t.ADS?(customAds=t,o.innerHTML=t.adsBody[n++],n>=t.adsCount&&(n=0),localStorage.adsStep=n):respAds()},e.onerror=e=>{var t=document.querySelector("#ad-container");t&&(t.innerHTML='<span style="color:crimson;">Network Error!</span>')},e.send()}window.onload=()=>{home=document.querySelector("#home"),inpt=document.querySelector("#URL"),filer=document.querySelector("#filler"),loading=document.querySelector("#loading"),pageInfoBy=document.querySelector("#pageinfo"),toast=document.querySelector("#toaster"),linkInfoBy=document.querySelector("#linkinfo"),urltit=document.querySelector("#urltit"),topbar=document.querySelector("#topbar"),appxlist=document.querySelector("#appxlist"),help=document.querySelector("#help"),blux=document.querySelector("#blu"),contxBoard=document.querySelector("#contxboard>menu"),optLix=document.querySelector("#optionslix>menu"),bkmrkbrd=document.querySelector("#bkmrkboard"),serx=document.querySelector("#searchx"),serq=document.querySelector("#searchq"),serNxtPrv=document.querySelector("#sernxtprv"),contx2=document.querySelector(".contxmenupan"),contx=document.querySelector(".contxmenupan1"),bookmrk=document.querySelector("#bookmark>menu"),icoxImg=document.querySelector("#icox>img"),finderState=document.querySelector("#finderst"),serErr=document.querySelector("#sererr"),serq.addEventListener("keydown",findKeys),serq.addEventListener("blur",(e=>{serx.parentElement.style.display="none",totalMatch>0?(serNxtPrv.style.display="block",window.addEventListener("keydown",nxtPrvKeys)):(navigator.spatialNavigationEnabled=!0,$bK=!0)})),serq.addEventListener("input",(e=>{iframe.findAll(serq.value,"case-insensitive")})),inpt.addEventListener("keydown",(e=>{switch(e.stopPropagation(),e.key){case"Enter":var t=inpt.value.trim();if(0==t.length)return inpt.placeholder="Please input";validURL(t)?(t=t.startsWith("http")?t:"http://"+t,iframe.src=t):(iframe.src="https://google.com/search?q="+t,addInputVal(t)),blux.children[0].innerHTML="",inpt.value="",inpt.blur(),blux.parentElement.style.display="none",home.style.display="none",topbar.style.display="flex",

navigator.spatialNavigationEnabled=!0,

window.removeEventListener("keydown",
homeKeys),
$bK=!0;break;

case"Call":inpt.value="";

break;case"ArrowDown":case"ArrowUp":for(var n=document.querySelectorAll(".inptrec"),o=-1,r=0;r<n.length;r++)if(n[r].hasAttribute("id")){o=r;break}-1!==o&&n[o].removeAttribute("id"),n[o="ArrowDown"===e.key?(o+1)%n.length:(o-1+n.length)%n.length]&&(inpt.value=n[o].getAttribute("data-ur"),n[o].setAttribute("id","foc"));break}})),inpt.addEventListener("blur",(e=>{inpt.removeAttribute("style"),inpt.type="url",$hK=!0,blux.children[0].innerHTML="",blux.parentElement.style.display="none",document.querySelector(".search-container").focus()})),inpt.addEventListener("input",onInputActivity),fullAds(),getAds(),browxer(),initDB(),

document.addEventListener("keydown",browsKeys),document.addEventListener("fullscreenchange",
fulScreenCng,!0),
screen.orientation&&(screen.orientation.onchange=scrOriCng)}}catch(e){alert(e.message)}